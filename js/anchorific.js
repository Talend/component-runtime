"function"!=typeof Object.create&&(Object.create=function(t){function n(){}return n.prototype=t,new n}),function(t,n,a,e){"use strict";var i={init:function(n,a){var e=this;e.elem=a,e.$elem=t(a),e.opt=t.extend({},this.opt,n),e.headers=e.$elem.find(e.opt.headers),e.previous=0,0!==e.headers.length&&(e.first=parseInt(e.headers.prop("nodeName").substring(1),null)),e.build()},opt:{navigation:".anchorific",headers:"h1, h2, h3, h4, h5, h6",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:!0,position:"append",spyOffset:!0},build:function(){var n,a=this,e=function(){};a.opt.navigation&&(t(a.opt.navigation).append("<ul />"),a.previous=t(a.opt.navigation).find("ul").last(),e=function(t){return a.navigations(t)});for(var i=0;i<a.headers.length;i++)e(n=a.headers.eq(i)),a.anchor(n);a.opt.spy&&a.spy(),a.opt.top&&a.back()},navigations:function(n){var a,i,o,r=this,s=r.name(n);n.attr("id")!==e&&(s=n.attr("id")),a=t("<a />").attr("href","#"+s).text(n.text()),i=t("<li />").append(a),o=parseInt(n.prop("nodeName").substring(1),null),i.attr("data-tag",o),r.subheadings(o,i),r.first=o},subheadings:function(n,a){var e=this,i=(t(e.opt.navigation).find("ul"),t(e.opt.navigation).find("li"));n===e.first?e.previous.append(a):n>e.first?(i.last().append("<ul />"),t(e.opt.navigation).find("ul").last().append(a),e.previous=a.parent()):(t("li[data-tag="+n+"]").last().parent().append(a),e.previous=a.parent())},name:function(t){return t.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase()},anchor:function(n){var a,i,o=this,r=o.name(n),s=o.opt.anchorText,p=o.opt.anchorClass;n.attr("id")===e&&n.attr("id",r),i=n.attr("id"),a=t("<a />").attr("href","#"+i).html(s).addClass(p),"append"===o.opt.position?n.append(a):n.prepend(a)},back:function(){var n=this,a=t("body, html");t(n.opt.top).on("click",function(t){t.preventDefault(),a.animate({scrollTop:0},n.opt.speed)})},top:function(n){var a=this.opt.top;!1!==a&&(t(n).scrollTop()>200?t(a).fadeIn():t(a).fadeOut())},spy:function(){var n,a,i,o=this;t(".maincontent").scroll(function(r){o.top(this),n=o.headers.map(function(n){if(t(this).offset().top-t(".maincontent").scrollTop()<o.opt.spyOffset)return this}),(n=t(n).eq(n.length-1))&&n.length&&(a=t('li:has(a[href="#'+n.attr("id")+'"])'),i!==e&&i.removeClass("active"),a.addClass("active"),i=a)})}};t.fn.anchorific=function(n){return this.each(function(){if(!t.data(this,"anchorific")){var a=Object.create(i);a.init(n,this),t.data(this,"anchorific",a)}})}}(jQuery,window,document);
