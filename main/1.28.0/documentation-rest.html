<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talend Component Kit Developer Reference Guide :: Component server and HTTP API</title>
    <link rel="canonical" href="https://talend.github.io/component-runtime/main/1.43.0/documentation-rest.html">
    <meta name="description" content="Learn about Talend Component Kit HTTP API and the component server">
    <meta name="keywords" content="REST API">
    <meta name="generator" content="Talend Component Kit Generator">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Component server and HTTP API :: Talend Component Kit Developer Reference Guide</title>
    <link rel="canonical" href="https://talend.github.io/component-runtime/main/1.43.0/documentation-rest.html">
    <meta name="description" content="Learn about Talend Component Kit HTTP API and the component server">
    <meta name="keywords" content="REST API">
    <meta name="generator" content="Antora 2.3.4">
<meta name="date" content="2022-03-01T11:32:27.217Z" scheme="YYYY-MM-DDTHH:mm:ss.sssZ">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha256-NuCn4IvuZXdBaFKJOAcsU2Q3ZpwbdFisd5dux4jkQ5w=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css" integrity="sha256-rD61BPsgKHzJPyg7vpXaYOw6tMYuY2fz1p9033NYeM8=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@talend/bootstrap-theme@0.200.1/dist/bootstrap.css">
<link rel="stylesheet" href="../../_/css/talend.css">
<link rel="shortcut icon" href="../../_/images/favicon_0.ico" />


<script type="text/x-mathjax-config">
                MathJax.Hub.Config({
                  messageStyle: "none",
                  tex2jax: {
                    inlineMath: [["\\(", "\\)"]],
                    displayMath: [["\\[", "\\]"]],
                    ignoreClass: "nostem|nolatexmath"
                  },
                  asciimath2jax: {
                    delimiters: [["\\$", "\\$"]],
                    ignoreClass: "nostem|noasciimath"
                  },
                  TeX: { equationNumbers: { autoNumber: "none" } }
                });
                </script>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PSBN"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','GTM-PSBN')</script>
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body>
      <svg xmlns="http://www.w3.org/2000/svg" focusable="false" style="display: none;">
    <symbol id="talend-logo-square">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path fill="#FFF" d="M8,5.32907052e-14 C12.4182648,5.32907052e-14 16,3.58173516 16,8 C16,12.4188737 12.4182648,16.0006088 8,16.0006088 C3.58173516,16.0006088 0,12.4188737 0,8 C0,3.58173516 3.58173516,5.32907052e-14 8,5.32907052e-14 Z M7.86070588,3.63987227 C7.41418487,4.67207395 6.53747899,5.46891429 5.4532437,5.80834286 C5.4532437,5.80834286 5.23179832,5.86098151 5.28867227,6.09271261 C5.29532773,6.11267899 5.30137815,6.13264538 5.31105882,6.15261176 C5.34191597,6.21735126 5.37942857,6.25062857 5.42359664,6.25607395 L6.13391597,6.25607395 L6.13391597,10.6517042 C6.13391597,11.2755025 6.32329412,11.7117378 6.70205042,11.959805 C7.08020168,12.2072672 7.58843697,12.3306958 8.22554622,12.3306958 C8.42521008,12.3306958 8.65633613,12.2937882 8.91952941,12.218763 C9.18272269,12.1431328 9.43078992,12.0469311 9.66312605,11.9295529 C9.89606723,11.8127798 10.0672941,11.6941916 10.1780168,11.5737882 C10.2046387,11.5568471 10.2046387,11.5090487 10.1780168,11.4316034 C10.151395,11.354158 10.1138824,11.282158 10.0648739,11.2162084 C10.0164706,11.1496538 9.97895798,11.1230319 9.95233613,11.1363429 C9.78413445,11.2198387 9.60020168,11.2912336 9.40114286,11.3487126 C9.20208403,11.4061916 9.02904202,11.4352336 8.88322689,11.4352336 C8.7192605,11.4352336 8.59401681,11.397721 8.50810084,11.325721 C8.42157983,11.2525109 8.35986555,11.1169815 8.32235294,10.9203429 C8.28423529,10.7237042 8.26547899,10.4363092 8.26547899,10.0599731 L8.26547899,6.24276303 L9.69337815,6.24276303 C9.74178151,6.24276303 9.78715966,6.19617479 9.82951261,6.10239328 C9.8712605,6.01042689 9.89243697,5.89546891 9.89243697,5.75812437 C9.89243697,5.70004034 9.87791597,5.64861176 9.84887395,5.60504874 C9.82043697,5.56088067 9.78171429,5.53667899 9.73331092,5.5324437 L8.26547899,5.5324437 L8.26547899,3.6792 C8.26547899,3.60235966 8.21465546,3.54790588 8.1245042,3.51099832 C7.95811765,3.45896471 7.86070588,3.63987227 7.86070588,3.63987227 Z"</path>
        </svg>
    </symbol>
    <symbol id="talend-component-kit-positive">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <g fill="none">
                <path fill="#005695" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path>
                <path fill="#FFF" d="M5.69 10.662a2.3 2.3 0 0 0 1.425.492 2.3 2.3 0 0 0 1.664-.709l-.631-.632 1.005-1.005a.33.33 0 0 0 0-.466.332.332 0 0 0-.467 0L7.68 9.347 6.633 8.3l1.005-1.005a.33.33 0 0 0-.467-.466L6.167 7.832l-.653-.652a2.3 2.3 0 0 0-.71 1.664c0 .54.187 1.037.498 1.43L3.878 11.7a.721.721 0 0 0-.358.027 5.824 5.824 0 0 1-.722-6.368c1.364-2.7 4.612-3.914 7.41-2.777l-.348.69 1.584-.369-.643-1.495-.351.695C7.384.832 3.818 2.15 2.32 5.117a6.359 6.359 0 0 0 .798 6.962.704.704 0 0 0 1.26.631.704.704 0 0 0-.036-.699l1.349-1.349z"></path>
                <path fill="#FFF" d="M12.623 3.031a.706.706 0 0 0-.973.894l-1.296 1.298a2.304 2.304 0 0 0-3.092.215l3.266 3.265a2.304 2.304 0 0 0 .213-3.092l1.299-1.297a.701.701 0 0 0 .504.006 5.838 5.838 0 0 1 .675 6.311c-1.332 2.636-4.524 3.871-7.284 2.826l.339-.67-1.585.368.643 1.494.36-.712c3.028 1.18 6.538-.162 8.005-3.064a6.375 6.375 0 0 0-.758-6.912.703.703 0 0 0-.316-.93z"></path>
            </g>
        </svg>
    </symbol>
</svg>

<header class="global-header">
  <nav class="navbar navbar-default">
      <div class="navbar-text-content nav navbar-nav">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <button aria-label="Go to Portal" id="header-talend-logo" type="button" class="btn-icon-only btn btn-link">
            <svg name="talend-logo-square" focusable="false" aria-hidden="true">
                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#talend-logo-square"></use>
            </svg>
        </button>
        <button aria-label="Kit logo" id="header-kit-logo" type="button" class="btn-icon-only btn btn-link">
          <svg name="talend-component-kit-positive" focusable="false" aria-hidden="true">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#talend-component-kit-positive"></use>
          </svg>
        </button>
        <a class="navbar-single-link" href="index.html">Talend Component Kit</a>
        <div class="btn-group navbar-versions">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                1.28.0
              <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
                <li class="navbar-item version">
                    <a href="../1.43.0/index.html">1.43.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.42.0/index.html">1.42.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.41.1/index.html">1.41.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.41.0/index.html">1.41.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.40.0/index.html">1.40.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.37.1/index.html">1.37.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.37.0/index.html">1.37.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.36.1/index.html">1.36.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.36.0/index.html">1.36.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.35.1/index.html">1.35.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.35.0/index.html">1.35.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.34.1/index.html">1.34.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.34.0/index.html">1.34.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.33.2/index.html">1.33.2</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.33.1/index.html">1.33.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.33.0/index.html">1.33.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.32.2/index.html">1.32.2</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.32.1/index.html">1.32.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.32.0/index.html">1.32.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.31.2/index.html">1.31.2</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.31.1/index.html">1.31.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.31.0/index.html">1.31.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.28.2/index.html">1.28.2</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.28.1/index.html">1.28.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="index.html">1.28.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.27/index.html">1.1.27</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.26/index.html">1.1.26</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.25/index.html">1.1.25</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.24/index.html">1.1.24</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.23/index.html">1.1.23</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.22/index.html">1.1.22</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.21/index.html">1.1.21</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.20/index.html">1.1.20</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.19/index.html">1.1.19</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.18/index.html">1.1.18</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.17/index.html">1.1.17</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.16/index.html">1.1.16</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.15/index.html">1.1.15</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.14/index.html">1.1.14</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.13/index.html">1.1.13</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.12/index.html">1.1.12</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.11/index.html">1.1.11</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.10/index.html">1.1.10</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.9/index.html">1.1.9</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.8/index.html">1.1.8</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.7/index.html">1.1.7</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.6/index.html">1.1.6</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.5/index.html">1.1.5</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.4/index.html">1.1.4</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.3/index.html">1.1.3</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.2/index.html">1.1.2</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.1/index.html">1.1.1</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.1.0/index.html">1.1.0</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.0.4/index.html">1.0.4</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.0.3/index.html">1.0.3</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.0.2/index.html">1.0.2</a>
                </li>
                <li class="navbar-item version">
                    <a href="../1.0.1/index.html">1.0.1</a>
                </li>
          </ul>
        </div>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Blog <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a class="navbar-item" href="https://talend.github.io/component-runtime/blog/release-notes.html" target="_blank">Release Notes</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Community <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a class="navbar-item" href="https://github.com/talend/component-runtime" target="_blank">GitHub Repository</a></li>
              <li><a class="navbar-item" href="contributors.html">Contributors</a></li>
              <li><a class="navbar-item" href="https://community.talend.com/t5/Component-Development/bd-p/ComponentDevelopment" target="_blank">Forum</a></li>
              <li><a class="navbar-item" href="https://help.talend.com/" target="_blank">Talend Help Center</a></li>
            </ul>
          </li>
        </ul>
        <form role="search" action="search.html" class="navbar-form navbar-right">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-search"></i></span>
            <input class="form-control" type="text" placeholder="Search" name="query" id="searchInput">
          </div>
        </form>
      </div>
    </nav>
</header>
            <main class="main">
              <div class="navigation-container grey-background hidden-xs col-sm-2" data-component="main" data-version="1.28.0">
  <aside class="navigation" role="navigation">
    <div class="panels">
      <div class="input-group nav-filter-group">
        <span class="input-group-addon"><i class="fa fa-search"></i></span>
        <input class="form-control" type="text" placeholder="Filter menu entries..." id="navFilterInput">
      </div>
      <div class="navigation-menu is-active" data-panel="menu">
        <nav class="nav-menu">
          <!-- <label>Talend Component Kit Developer Reference Guide</label> -->
          <ul class="nav nav-list tree" >
  <li data-depth="0">
      
    <ul class="nav nav-list tree" >
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>First steps</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="getting-started.html">Getting Started</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-create-my-first-component.html">Creating your first component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="record-types.html">Record types</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Tutorials</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-tutorials.html">Tutorial overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-create-my-first-component.html">Creating your first component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-generate-project-using-starter.html">Generating a project from the starter</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-create-an-input-component.html">Creating a Hazelcast input component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-create-an-output-component.html">Creating a Hazelcast output component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-create-components-rest-api.html">Creating a Zendesk REST API connector</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-test-rest-api.html">Testing a Zendesk REST API connector</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-test-your-components.html">Testing a Hazelcast component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-dev-vs-ci-setup.html">Testing in a continuous integration environment</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-handle-talend-component-migration.html">Handling component version migration</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Setting up your environment</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-setup-environment.html">Setup overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="#system-prerequisites.adoc.adoc">System requirements</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="installing-talend-intellij-plugin.html">Installing the IntelliJ plugin</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Generating a project</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-generating-project.html">Project generation overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-generate-project-using-starter.html">Using the Starter</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="generate-project-using-intellij-plugin.html">Using the IntelliJ plugin</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Implementing components</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-creating-components.html">Component implementation overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-registering.html">Defining component metadata</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="creating-dataset-datastore.html">Defining datasets and datastores</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-define-input.html">Defining an input component logic</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-define-processor-output.html">Defining a processor/output logic</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-configuration.html">Defining component configuration</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-execution.html">Component execution logic</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-internationalization.html">Internationalizing a component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-versions-and-migration.html">Managing component versions</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="tutorial-configuration-sensitive-data.html">Masking sensitive data</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="concept-processor-and-batch-processing.html">Implementing batch processing</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-implementing-streaming.html">Implementing streaming on a component</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="component-loading.html">Component loading</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="build-tools-maven.html">Building components with Maven</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="build-tools-gradle.html">Building components with Gradle</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="wrapping-a-beam-io.html">Wrapping a Beam I/O</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Defining services</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-defining-services.html">Service overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="services-internationalization.html">Internationalizing a service</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="services-actions.html">Providing actions through a service</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="services-built-in.html">Built-in services</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="services-interceptors.html">Services and interceptors</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="services-custom-api.html">Defining a custom API</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Testing components</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-testing-components.html">Component testing overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="testing-best-practices.html">Component testing best practices</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="index-sub-testing-runtime.html">Testing component runtime</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="testing-beam.html">Beam testing</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="testing-multiple-envs.html">Testing in multiple environments</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="testing-maven-passwords.html">Reusing Maven credentials</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="testing-generating-data.html">Generating data for testing</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="services-pipeline.html">Simple/Test Pipeline API</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="https://beam.apache.org/documentation/programming-guide/#creating-a-pipeline">Beam Pipeline API</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Integrating into Talend Studio</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-deploying-components.html">Studio integration overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="studio.html">Iterating on component development</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="studio-from-car.html">Installing components from a CAR file</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="studio-schema.html">Studio schema</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="compatibility.html">Version compatibility</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="javajet-to-componentkit.html">From Javajet to the Component Kit</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Integrating into Talend Cloud</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-cloud-integration.html">Cloud integration overview</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="documentation-rest.html">Component server and HTTP API</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="vault-proxy.html">Component Server Vault Proxy</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Knowledge base</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="index-knowledge-base.html">Knowledge base articles</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="changelog.html">Changelog</a>
  </li>
</ul>
  </li>
  <li data-depth="1">
      <label class="tree-toggler nav-header"><i class="fa fa-angle-right"></i><span>Reference Guide</span></label>
    <ul class="nav nav-list tree"  style="display:none">
  <li data-depth="2">
    <a class="menu-link" href="gallery.html">Widget and validation gallery</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-actions.html">List of available actions</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-conditions.html">List of conditions for binding properties</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-configuration-types.html">Component data configuration types</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-constraints.html">Component field constraints and validations</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-junit-environments.html">Provided JUnit testing environments</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-rest-resources.html">Component Server HTTP API reference</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-scanning-exclusions.html">Scanning exclusions</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-server-configuration.html">Server configuration</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="ref-ui.html">UI API</a>
  </li>
  <li data-depth="2">
    <a class="menu-link" href="apidocs.html">Javadocs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
        </nav>
      </div>
    </div>
  </aside>
</div>
              <div class="col-xs-12 col-sm-10 maincontent">
                <div class="toolbar" role="navigation">

    <ol class="breadcrumb">
      <li class="crumb"><a href="index-cloud-integration.html">Integrating into Talend Cloud</a></li>
      <li class="crumb active"><a href="documentation-rest.html">Component server and HTTP API</a></li>
    </ol>
</div>
                <article class="doc">
        <div class="row">
          <div class="col-sm-9 row">
              <h1>Component server and HTTP API</h1>
            <div class="article-content">
              <div class="sect1">
<h2 id="_http_api"><a class="anchor" href="#_http_api"></a>HTTP API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The HTTP API intends to expose most Talend Component Kit features over HTTP. It is a standalone Java HTTP server.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The WebSocket protocol is activated for the endpoints. Endpoints then use <code>/websocket/v1</code> as base instead of <code>/api/v1</code>. See <a href="#websocket-transport">WebSocket</a> for more details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Browse the API description using <a href="rest-openapi.html" class="page"><span class="image img-inline"><img src="_images/openapi/OpenAPI.svg" alt="OpenAPI"></span></a> interface.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
To make sure that the migration can be enabled, you need to set the version the component was created with in the execution configuration that you send to the server (component version is in component the detail endpoint). To do that, use <code>tcomp::component::version</code> key.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_deprecated_endpoints"><a class="anchor" href="#_deprecated_endpoints"></a>Deprecated endpoints</h3>
<div class="paragraph">
<p>Endpoints that are intended to disappear will be deprecated. A <code>X-Talend-Warning</code> header will be returned with a message as value.</p>
</div>
</div>
<div class="sect2">
<h3 id="websocket-transport"><a class="anchor" href="#websocket-transport"></a>WebSocket transport</h3>
<div class="paragraph">
<p>You can connect yo any endpoint by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replacing <code>/api</code> with <code>/websocket</code></p>
</li>
<li>
<p>Appending <code>/&lt;http method&gt;</code> to the URL</p>
</li>
<li>
<p>Formatting the request as:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>SEND
destination: &lt;endpoint after v1&gt;
&lt;headers&gt;

&lt;payload&gt;^@</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>SEND
destination: /component/index
Accept: application/json

^@</code></pre>
</div>
</div>
<div class="paragraph">
<p>The response is formatted as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>MESSAGE
status: &lt;http status code&gt;
&lt;headers&gt;

&lt;payload&gt;^@</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
All endpoints are logged at startup. You can then find them in the logs if you have a doubt about which one to use.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you don&#8217;t want to create a pool of connections per endpoint/verb, you can use the bus endpoint: <code>/websocket/v1/bus</code>.
This endpoint requires that you add the <code>destinationMethod</code> header to each request with the verb value (<code>GET</code> by default):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>SEND
destination: /component/index
destinationMethod: GET
Accept: application/json

^@</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_configuration"><a class="anchor" href="#_server_configuration"></a>Server configuration</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the configuration is read from system properties, environment variables, &#8230;&#8203;.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">talend.component.server.cache.maxSize</dt>
<dd>
<p>Default value: <code>1000</code>. Maximum items a cache can store, used for index endpoints.</p>
</dd>
<dt class="hdlist1">talend.component.server.component.coordinates</dt>
<dd>
<p>A comma separated list of gav to locate the components</p>
</dd>
<dt class="hdlist1">talend.component.server.component.documentation.translations</dt>
<dd>
<p>Default value: <code>${home}/documentations</code>. A component translation repository. This is where you put your documentation translations. Their name must follow the pattern <code>documentation_${container-id}_language.adoc</code> where <code>${container-id}</code> is the component jar name (without the extension and version, generally the artifactId).</p>
</dd>
<dt class="hdlist1">talend.component.server.component.extend.dependencies</dt>
<dd>
<p>Default value: <code>true</code>. Should the component extensions add required dependencies.</p>
</dd>
<dt class="hdlist1">talend.component.server.component.extension.maven.repository</dt>
<dd>
<p>If you deploy some extension, where they can create their dependencies if needed.</p>
</dd>
<dt class="hdlist1">talend.component.server.component.extension.startup.timeout</dt>
<dd>
<p>Default value: <code>180000</code>. Timeout for extension initialization at startup, since it ensures the startup wait extensions are ready and loaded it allows to control the latency it implies.</p>
</dd>
<dt class="hdlist1">talend.component.server.component.registry</dt>
<dd>
<p>A property file (or multiple comma separated) where the value is a gav of a component to register(complementary with <code>coordinates</code>). Note that the path can end up with <code><strong></code> or <code></strong>.properties</code> to take into account all properties in a folder.</p>
</dd>
<dt class="hdlist1">talend.component.server.documentation.active</dt>
<dd>
<p>Default value: <code>true</code>. Should the /documentation endpoint be activated. Note that when called on localhost the doc is always available.</p>
</dd>
<dt class="hdlist1">talend.component.server.environment.active</dt>
<dd>
<p>Default value: <code>true</code>. Should the /api/v1/environment endpoint be activated. It shows some internal versions and git commit which are not always desirable over the wire.</p>
</dd>
<dt class="hdlist1">talend.component.server.filter.secured.tokens</dt>
<dd>
<p>Default value: <code>-</code>. Accepted tokens in Authorization header for remote calls to secured endpoints (/api/v1/environment or /documentation).</p>
</dd>
<dt class="hdlist1">talend.component.server.gridlayout.translation.support</dt>
<dd>
<p>Default value: <code>false</code>. Should the components using a <code>@GridLayout</code> support tab translation. Studio does not suppot that feature yet so this is not enabled by default.</p>
</dd>
<dt class="hdlist1">talend.component.server.icon.paths</dt>
<dd>
<p>Default value: <code>icons/%s.svg,icons/svg/%s.svg,icons/%s_icon32.png,icons/png/%s_icon32.png</code>. These patterns are used to find the icons in the classpath(s).</p>
</dd>
<dt class="hdlist1">talend.component.server.jaxrs.exceptionhandler.defaultMessage</dt>
<dd>
<p>Default value: <code>false</code>. If set it will replace any message for exceptions. Set to <code>false</code> to use the actual exception message.</p>
</dd>
<dt class="hdlist1">talend.component.server.lastUpdated.useStartTime</dt>
<dd>
<p>Default value: <code>false</code>. Should the lastUpdated timestamp value of <code>/environment</code> endpoint be updated with server start time.</p>
</dd>
<dt class="hdlist1">talend.component.server.locale.mapping</dt>
<dd>
<p>Default value: <code>en*=en
fr*=fr
zh*=zh_CN
ja*=ja</code>. For caching reasons the goal is to reduce the locales to the minimum required numbers. For instance we avoid <code>fr</code> and <code>fr_FR</code> which would lead to the same entries but x2 in terms of memory. This mapping enables that by whitelisting allowed locales, default being <code>en</code>. If the key ends with <code><strong></code> it means all string starting with the prefix will match. For instance <code>fr</strong></code> will match <code>fr_FR</code> but also <code>fr_CA</code>.</p>
</dd>
<dt class="hdlist1">talend.component.server.maven.repository</dt>
<dd>
<p>The local maven repository used to locate components and their dependencies</p>
</dd>
<dt class="hdlist1">talend.component.server.request.log</dt>
<dd>
<p>Default value: <code>false</code>. Should the all requests/responses be logged (debug purposes - only work when running with CXF).</p>
</dd>
<dt class="hdlist1">talend.component.server.security.command.handler</dt>
<dd>
<p>Default value: <code>securityNoopHandler</code>. How to validate a command/request. Accepted values: securityNoopHandler.</p>
</dd>
<dt class="hdlist1">talend.component.server.security.connection.handler</dt>
<dd>
<p>Default value: <code>securityNoopHandler</code>. How to validate a connection. Accepted values: securityNoopHandler.</p>
</dd>
<dt class="hdlist1">talend.component.server.user.extensions.location</dt>
<dd>
<p>A folder available for the server - don&#8217;t forget to mount it in docker if you are using the image - which accepts subfolders named as component plugin id (generally the artifactId or jar name without the version, ex: jdbc). Each family folder can contain:</p>
<div class="ulist">
<ul>
<li>
<p>a <code>user-configuration.properties</code> file which will be merged with component configuration system (see services). This properties file enables the function <code>userJar(xxxx)</code> to replace the jar named <code>xxxx</code> by its virtual gav (<code>groupId:artifactId:version</code>),</p>
</li>
<li>
<p>a list of jars which will be merged with component family classpath</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">talend.component.server.user.extensions.provisioning.location</dt>
<dd>
<p>Default value: <code>auto</code>. Should the implicit artifacts be provisionned to a m2. If set to <code>auto</code> it tries to detect if there is a m2 to provision - recommended, if set to <code>skip</code> it is ignored, else it uses the value as a m2 path.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_configuration_mechanism"><a class="anchor" href="#_configuration_mechanism"></a>Configuration mechanism</h3>
<div class="paragraph">
<p>The configuration uses Microprofile Config for most entries. It means it can be passed through system properties and environment variables (by replacing dots with underscores and making the keys uppercase).</p>
</div>
<div class="paragraph">
<p>To configure a Docker image rather than a standalone instance, Docker Config and secrets integration allows you to read the configuration from files. You can customize the configuration of these integrations through system properties.</p>
</div>
<div class="paragraph">
<p>Docker integration provides a <code>secure:</code> support to encrypt values and  system properties, when required.</p>
</div>
<div class="paragraph">
<p>It is fully implemented using the <a href="http://geronimo.apache.org/microprofile/extensions.html">Apache Geronimo Microprofile Config</a> extensions.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_https_activation"><a class="anchor" href="#_https_activation"></a>HTTPS activation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the server ZIP (or <a href="https://github.com/Talend/component-runtime/blob/master/.docker/Dockerfile">Docker image</a>), you can configure HTTPS by adding properties to <code>_JAVA_OPTIONS</code>. Assuming that you have a certificate in <code>/opt/certificates/component.p12</code> (don&#8217;t forget to add/mount it in the Docker image if you use it), you can activate it as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># use -e for Docker and `--https=8443` to set the port
#
# this skips the http port binding and only binds https on the port 8443, and setups the correct certificate
export _JAVA_OPTIONS="-Dskip-http=true -Dssl=true -Dhttps=8443 -Dkeystore-type=PKCS12 -Dkeystore-alias=talend -Dkeystore-password=talend -Dkeystore-file=/opt/certificates/component.p12"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_queries"><a class="anchor" href="#_defining_queries"></a>Defining queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can define simple queries on the <a href="rest-openapi.html#/Configuration%20Type/getRepositoryModel">configuration types</a> and <a href="rest-openapi.html#/Component/getIndex">components</a> endpoints. These two endpoints support different parameters.</p>
</div>
<div class="paragraph">
<p>Queries on the <code>configurationtype/index</code> endpoint supports the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code></p>
</li>
<li>
<p><code>id</code></p>
</li>
<li>
<p><code>name</code></p>
</li>
<li>
<p><code>metadata</code> of the first configuration property as parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Queries on the <code>component/index</code> endpoint supports the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>plugin</code></p>
</li>
<li>
<p><code>name</code></p>
</li>
<li>
<p><code>id</code></p>
</li>
<li>
<p><code>familyId</code></p>
</li>
<li>
<p><code>metadata</code> of the first configuration property as parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In both cases, you can combine several conditions using <code>OR</code> and <code>AND</code> operators. If you combine more than two conditions, note that they are evaluated in the order they are written.</p>
</div>
<div class="paragraph">
<p>Each supported parameter in a condition can be "equal to" (<code>=</code>) or "not equal to" (<code>!=</code>) a defined value (case-sensitive).</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">(metadata[configurationtype::type] = dataset) AND (plugin = jdbc-component) OR (name = input)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the query gets components that have a dataset and belong to the jdbc-component plugin, or components that are named <code>input</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_web_forms_and_rest_api"><a class="anchor" href="#_web_forms_and_rest_api"></a>Web forms and REST API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>component-form</code> library provides a way to build a component REST API facade that is compatible with React form library.</p>
</div>
<div class="paragraph">
<p>for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("tacokit-facade")
@ApplicationScoped
public class ComponentFacade {
    private static final String[] EMPTY_ARRAY = new String[0];

    @Inject
    private Client client;

    @Inject
    private ActionService actionService;

    @Inject
    private UiSpecService uiSpecService;

    @Inject // assuming it is available in your app, use any client you want
    private WebTarget target;

    @POST
    @Path("action")
    public void action(@Suspended final AsyncResponse response, @QueryParam("family") final String family,
            @QueryParam("type") final String type, @QueryParam("action") final String action,
            final Map&lt;String, Object&gt; params) {
        client.action(family, type, action, params).handle((r, e) -&gt; {
            if (e != null) {
                onException(response, e);
            } else {
                response.resume(actionService.map(type, r));
            }
            return null;
        });
    }

    @GET
    @Path("index")
    public void getIndex(@Suspended final AsyncResponse response,
            @QueryParam("language") @DefaultValue("en") final String language) {
        target
                .path("component/index")
                .queryParam("language", language)
                .request(APPLICATION_JSON_TYPE)
                .rx()
                .get(ComponentIndices.class)
                .toCompletableFuture()
                .handle((index, e) -&gt; {
            if (e != null) {
                onException(response, e);
            } else {
                index.getComponents().stream().flatMap(c -&gt; c.getLinks().stream()).forEach(
                        link -&gt; link.setPath(link.getPath().replaceFirst("/component/", "/application/").replace(
                                "/details?identifiers=", "/detail/")));
                response.resume(index);
            }
            return null;
        });
    }

    @GET
    @Path("detail/{id}")
    public void getDetail(@Suspended final AsyncResponse response,
            @QueryParam("language") @DefaultValue("en") final String language, @PathParam("id") final String id) {
        target
                .path("component/details")
                .queryParam("language", language)
                .queryParam("identifiers", id)
                .request(APPLICATION_JSON_TYPE)
                .rx()
                .get(ComponentDetailList.class)
                .toCompletableFuture()
                .thenCompose(result -&gt; uiSpecService.convert(result.getDetails().iterator().next()))
                .handle((result, e) -&gt; {
                    if (e != null) {
                        onException(response, e);
                    } else {
                        response.resume(result);
                    }
                    return null;
                });
    }

    private void onException(final AsyncResponse response, final Throwable e) {
        final UiActionResult payload;
        final int status;
        if (WebException.class.isInstance(e)) {
            final WebException we = WebException.class.cast(e);
            status = we.getStatus();
            payload = actionService.map(we);
        } else if (CompletionException.class.isInstance(e)) {
            final CompletionException actualException = CompletionException.class.cast(e);
            log.error(actualException.getMessage(), actualException);
            status = Response.Status.BAD_GATEWAY.getStatusCode();
            payload = actionService.map(new WebException(actualException, -1, emptyMap()));
        } else {
            log.error(e.getMessage(), e);
            status = Response.Status.BAD_GATEWAY.getStatusCode();
            payload = actionService.map(new WebException(e, -1, emptyMap()));
        }
        response.resume(new WebApplicationException(Response.status(status).entity(payload).build()));
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the <code>Client</code> can be created using <code>ClientFactory.createDefault(System.getProperty("app.components.base", "http://localhost:8080/api/v1"))</code> and the service can be a simple <code>new UiSpecService&lt;&gt;()</code>. The factory uses JAX-RS if the API is available (assuming a JSON-B provider is registered). Otherwise, it tries to use Spring.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The conversion from the component model (REST API) to the uiSpec model is done through  <code>UiSpecService</code>. It is based on the object model which is mapped to a UI model. Having a flat model in the component REST API allows to customize layers easily.</p>
</div>
<div class="paragraph">
<p>You can completely control the available components, tune the rendering by switching the <code>uiSchema</code>, and add or remove parts of the form.
You can also add custom actions and buttons for specific needs of the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The<code>/migrate</code> endpoint was not shown in the previous snippet but if you need it, add it as well.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_using_the_uispec_model_without_the_tooling"><a class="anchor" href="#_using_the_uispec_model_without_the_tooling"></a>Using the UiSpec model without the tooling</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.talend.sdk.component&lt;/groupId&gt;
  &lt;artifactId&gt;component-form-model&lt;/artifactId&gt;
  &lt;version&gt;${talend-component-kit.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This Maven dependency provides the UISpec model classes. You can use the <code>Ui</code> API (with or without the builders) to create UiSpec representations.</p>
</div>
<div class="paragraph">
<p>For Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">final Ui form1 = ui()
    .withJsonSchema(JsonSchema.jsonSchemaFrom(Form1.class).build()) <i class="conum" data-value="1"></i><b>(1)</b>
    .withUiSchema(uiSchema() <i class="conum" data-value="2"></i><b>(2)</b>
        .withKey("multiSelectTag")
        .withRestricted(false)
        .withTitle("Simple multiSelectTag")
        .withDescription("This data list accepts values that are not in the list of suggestions")
        .withWidget("multiSelectTag")
        .build())
    .withProperties(myFormInstance) <i class="conum" data-value="3"></i><b>(3)</b>
    .build();

final String json = jsonb.toJson(form1); <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>JsonSchema</code> is extracted from reflection on the <code>Form1</code> class. <code>@JsonSchemaIgnore</code> allows to ignore a field and <code>@JsonSchemaProperty</code> allows to rename a property.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A <code>UiSchema</code> is programmatically built using the builder API.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An instance of the form is passed to let the serializer extract its JSON model.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>Ui</code> model, which can be used by UiSpec compatible front widgets, is serialized.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The model uses the JSON-B API to define the binding. Make sure to have an implementation in your classpath. To do that, add the following dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;
  &lt;artifactId&gt;geronimo-jsonb_1.0_spec&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;
  &lt;artifactId&gt;geronimo-json_1.1_spec&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.johnzon&lt;/groupId&gt;
  &lt;artifactId&gt;johnzon-jsonb&lt;/artifactId&gt;
  &lt;version&gt;${johnzon.version}&lt;/version&gt; &lt;!-- 1.1.5 for instance --&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_uispec_for_custom_models"><a class="anchor" href="#_using_the_uispec_for_custom_models"></a>Using the UiSpec for custom models</h3>
<div class="paragraph">
<p>The following module enables you to define through annotations a uispec on your own models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.talend.sdk.component&lt;/groupId&gt;
  &lt;artifactId&gt;component-uispec-mapper&lt;/artifactId&gt;
  &lt;version&gt;${talend-component-kit.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
this can&#8217;t be used in components and is only intended for web applications.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>org.talend.sdk.component.form.uispec.mapper.api.service.UiSpecMapper</code> enables to create a <code>Ui</code> instance from a custom type annotated with
<code>org.talend.sdk.component.form.uispec.mapper.api.model.View</code> and <code>org.talend.sdk.component.form.uispec.mapper.api.model.View.Schema</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>UiSpecMapper</code> returns a <code>Supplier</code> and not directly an <code>Ui</code> because the ui-schema is re-evaluated when `get()  is called.
This enables to update the title maps for example.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Data
public abstract class BaseModel {
    @View.Skip
    private String id;

    @View.Skip
    private Date created;

    @View.Skip
    private Date updated;

    @View.Schema(type = "hidden", readOnly = true)
    private long version;
}

@Data
@ToString(callSuper = true)
@EqualsAndHashCode(callSuper = true)
public class ComponentModel extends BaseModel {
    @View.Schema(length = 1024, required = true, position = 1, reference = "vendors")
    private String vendor;

    @View.Schema(length = 2048, required = true, position = 2)
    private String name;

    @View.Schema(length = 2048, required = true, position = 3)
    private String license;

    @View.Schema(length = 2048, required = true, position = 4)
    private String sources;

    @View.Schema(length = 2048, required = true, position = 5)
    private String bugtracker;

    @View.Schema(length = 2048, required = true, position = 6)
    private String documentation;

    @View.Schema(widget = "textarea", length = 8192, required = true, position = 7)
    private String description;

    @View.Schema(widget = "textarea", length = 8192, position = 8)
    private String changelog;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This API maps directly the UiSpec model (json schema and ui schema of Talend <code>UIForm</code>).</p>
</div>
<div class="paragraph">
<p>The default implementation of the mapper is available at <code>org.talend.sdk.component.form.uispec.mapper.impl.UiSpecMapperImpl</code>.</p>
</div>
<div class="paragraph">
<p>Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private UiSpecMapper mapper = new UiSpecMapperImpl(new Configuration(getTitleMapProviders()));

@GET
public Ui getNewComponentModelForm() {
    return mapper.createFormFor(ComponentModel.class).get();
}

@GET
@Path("{id}")
public Ui editComponentModelForm(final @PathParam("id") final String id) {
    final ComponentModel component = findComponent(id);
    final Ui spec = getNewComponentModelForm();
    spec.setProperties(component);
    return spec;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>getTitleMapProviders()</code> method will generally lookup a set of <code>TitleMapProvider</code> instances in your IoC context.
This API is used to fill the <code>titleMap</code> of the form when a reference identifier is set on the <code>@Schema</code> annotation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_javascript_integration"><a class="anchor" href="#_javascript_integration"></a>JavaScript integration</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<code>component-kit.js</code> is no more available (previous versions stay on NPM) and is replaced by <code>@talend/react-containers</code>.
The previous import can be replaced by <code>import kit from '@talend/react-containers/lib/ComponentForm/kit';</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Default JavaScript integration goes through the <a href="https://github.com/Talend/ui/tree/master/packages/forms">Talend UI Forms</a> library
and its <a href="https://github.com/Talend/ui/tree/master/packages/containers">Containers</a> wrapper.</p>
</div>
<div class="paragraph">
<p>Documentation is now available on the previous link.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logging"><a class="anchor" href="#_logging"></a>Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The logging uses Log4j2. You can specify a custom configuration by using the <code>-Dlog4j.configurationFile</code> system property or by adding a <code>log4j2.xml</code> file to the classpath.</p>
</div>
<div class="paragraph">
<p>Here are some common configurations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Console logging:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;Configuration status="INFO"&gt;
  &lt;Appenders&gt;
    &lt;Console name="Console" target="SYSTEM_OUT"&gt;
      &lt;PatternLayout pattern="[%d{HH:mm:ss.SSS}][%highlight{%-5level}][%15.15t][%30.30logger] %msg%n"/&gt;
    &lt;/Console&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level="INFO"&gt;
      &lt;AppenderRef ref="Console"/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Output messages look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>[16:59:58.198][INFO ][           main][oyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-34763"]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>JSON logging:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;Configuration status="INFO"&gt;
  &lt;Properties&gt;
    &lt;!-- DO NOT PUT logSource there, it is useless and slow --&gt;
    &lt;Property name="jsonLayout"&gt;{"severity":"%level","logMessage":"%encode{%message}{JSON}","logTimestamp":"%d{ISO8601}{UTC}","eventUUID":"%uuid{RANDOM}","@version":"1","logger.name":"%encode{%logger}{JSON}","host.name":"${hostName}","threadName":"%encode{%thread}{JSON}","stackTrace":"%encode{%xThrowable{full}}{JSON}"}%n&lt;/Property&gt;
  &lt;/Properties&gt;
  &lt;Appenders&gt;
    &lt;Console name="Console" target="SYSTEM_OUT"&gt;
      &lt;PatternLayout pattern="${jsonLayout}"/&gt;
    &lt;/Console&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level="INFO"&gt;
      &lt;AppenderRef ref="Console"/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Output messages look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{"severity":"INFO","logMessage":"Initializing ProtocolHandler [\"http-nio-46421\"]","logTimestamp":"2017-11-20T16:04:01,763","eventUUID":"8b998e17-7045-461c-8acb-c43f21d995ff","@version":"1","logger.name":"org.apache.coyote.http11.Http11NioProtocol","host.name":"TLND-RMANNIBUCAU","threadName":"main","stackTrace":""}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Rolling file appender:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0"?&gt;
&lt;Configuration status="INFO"&gt;
  &lt;Appenders&gt;
    &lt;RollingRandomAccessFile name="File" fileName="${LOG_PATH}/application.log" filePattern="${LOG_PATH}/application-%d{yyyy-MM-dd}.log"&gt;
      &lt;PatternLayout pattern="[%d{HH:mm:ss.SSS}][%highlight{%-5level}][%15.15t][%30.30logger] %msg%n"/&gt;
      &lt;Policies&gt;
        &lt;SizeBasedTriggeringPolicy size="100 MB" /&gt;
        &lt;TimeBasedTriggeringPolicy interval="1" modulate="true"/&gt;
      &lt;/Policies&gt;
    &lt;/RollingRandomAccessFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level="INFO"&gt;
      &lt;AppenderRef ref="File"/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>More details are available in the <a href="https://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender">RollingFileAppender</a> documentation.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can compose previous layout (message format) and appenders (where logs are written).
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docker"><a class="anchor" href="#_docker"></a>Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The server image is deployed on Docker. Its version is suffixed with a timestamp to ensure images are not overridden and can break your usage. You can check the available version on Docker hub.</p>
</div>
<div class="sect2">
<h3 id="_run"><a class="anchor" href="#_run"></a>Run</h3>
<div class="paragraph">
<p>You can run the docker image by executing this command :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ sudo docker run -p 8080:8080 tacokit/component-starter</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure"><a class="anchor" href="#_configure"></a>Configure</h3>
<div class="paragraph">
<p>You can set the env variable <code>_JAVA_OPTIONS</code> to customize the server, by default it is installed in <code>/opt/talend/component-kit</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_maven_repository"><a class="anchor" href="#_maven_repository"></a>Maven repository</h3>
<div class="paragraph">
<p>The maven repository is the default one of the machine, you can change it setting the system property <code>talend.component.server.maven.repository=/path/to/your/m2</code>.</p>
</div>
<div class="sect3">
<h4 id="_deploy_components_to_the_server"><a class="anchor" href="#_deploy_components_to_the_server"></a>Deploy components to the server</h4>
<div class="paragraph">
<p>If you want to deploy some components you can configure which ones in _JAVA_OPTIONS (see server doc online) and redirect your local m2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ docker run \
       -p 8080:8080 \
       -v ~/.m2:/root/.m2 \
       -e _JAVA_OPTIONS="-Dtalend.component.server.component.coordinates=g:a:v,g2:a2:v2,..." \
       component-server</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_logging_2"><a class="anchor" href="#_logging_2"></a>Logging</h3>
<div class="paragraph">
<p>The component server docker image comes with two log4j2 profiles: <code>TEXT</code> (default) and <code>JSON</code>.
The logging profile can be changed by setting the environment variable <code>LOGGING_LAYOUT</code> to <code>JSON</code>.</p>
</div>
<div class="paragraph">
<p>Note that Component Server adds to these default Talend profiles the <code>KAFKA</code> profile. With this profile, all logs are sent to Kafka.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can check the exact configuration in the <code>component-runtime/images/component-server-image/src/main/resources</code> folder.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_default_or_text_profile"><a class="anchor" href="#_default_or_text_profile"></a>default or TEXT profile</h4>
<div class="paragraph">
<p>The console logging is on at <code>INFO</code> level by default. You can customize it by setting the <code>CONSOLE_LOG_LEVEL</code> environment variable to <code>DEBUG</code>, <code>INFO</code>, <code>WARN</code> or to any other log level supported by log4j2.</p>
</div>
<div class="paragraph">
<p>Run docker image with console logging:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">sudo docker run -p 8080:8080 \
	-e CONSOLE_LOG_LEVEL=DEBUG \
	component-server</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_json_profile"><a class="anchor" href="#_json_profile"></a>JSON profile</h4>
<div class="paragraph">
<p>The JSON profile does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Logs on the console using the <code>CONSOLE_LOG_LEVEL</code> configuration as the default profile. It uses the formatting shown below.</p>
</li>
<li>
<p>If the <code>TRACING_KAFKA_URL</code> environment variable is set, it logs the opentracing data on the defined Kafka using the topic <code>TRACING_KAFKA_TOPIC</code>. This level can be customized by setting the <code>KAFKA_LOG_LEVEL</code> environment variable (<code>INFO</code> by default).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Events are logged in the following format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   "eventUUID":"%uuid{RANDOM}",
   "correlationId":"%X{traceId}",
   "spanId":"%X{spanId}",
   "traceId":"%X{traceId}",
   "category":"components",
   "eventType":"LOGEvent",
   "severity":"%level",
   "logMessage":"%encode{%message}{JSON}",
   "logSource":{
      "class.name":"%class",
      "file.name":"%file",
      "host.name":"%X{hostname}",
      "line.number":"%line",
      "logger.name":"%logger",
      "method.name":"%method",
      "process.id":"%pid"
   },
   "service":"${env:LOG_SERVICE_NAME:-component-server}",
   "application":"${env:LOG_APP_NAME:-component-server}",
   "exportable":"${env:LOG_EXPORTABLE:-true}",
   "audit":"${env:LOG_AUDIT:-false}",
   "logTimestamp":"%d{ISO8601}{UTC}",
   "serverTimestamp":"%d{ISO8601}{UTC}",
   "customInfo":{
      "threadName":"%encode{%thread}{JSON}",
      "stackTrace":"%encode{%xThrowable{full}}{JSON}"
   }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kafka_profile"><a class="anchor" href="#_kafka_profile"></a>KAFKA profile</h4>
<div class="paragraph">
<p>This profile is very close to the JSON profile and also adds the <code>LOG_KAFKA_TOPIC</code> and <code>LOG_KAFKA_URL</code> configuration. The difference is that it logs the default logs on Kafka in addition to the tracing logs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_opentracing"><a class="anchor" href="#_opentracing"></a>OpenTracing</h4>
<div class="paragraph">
<p>The component server uses Geronimo OpenTracing to monitor request.</p>
</div>
<div class="paragraph">
<p>The tracing can be activated by setting the <code>TRACING_ON</code> environment variable to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The tracing rate is configurable by setting the <code>TRACING_SAMPLING_RATE</code> environment variable.
It accepts <code>0</code> (none) and <code>1</code> (all, default) as values to ensure the consistency of the reporting.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can find all the details on the configuration in <code>org.talend.sdk.component.server.configuration.OpenTracingConfigSource</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Run docker image with tracing on:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">sudo docker run -p 8080:8080 \
	-e TRACING_ON=true \
	tacokit/component-server</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, Geronimo OpenTracing will log the spans in a Zipking format so you can use the Kafka profile as explained before
to wire it over any OpenTracing backend.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_building_the_docker_image"><a class="anchor" href="#_building_the_docker_image"></a>Building the docker image</h3>
<div class="paragraph">
<p>You can register component server images in Docker using these instructions in the corresponding image directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh"># ex: cd images/component-server-image
mvn clean compile jib:dockerBuild</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_integrating_components_into_the_image"><a class="anchor" href="#_integrating_components_into_the_image"></a>Integrating components into the image</h3>
<div class="sect3">
<h4 id="_docker_compose"><a class="anchor" href="#_docker_compose"></a>Docker Compose</h4>
<div class="paragraph">
<p>Docker Compose allows you to deploy the server with components, by mounting the component volume
into the server image.</p>
</div>
<div class="paragraph">
<p><code>docker-compose.yml</code> example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">version: '3.2'

services:
  component-server:
    healthcheck:
      timeout: 3s
      interval: 3s
      retries: 3
      test: curl --fail http://localhost:1234/api/v1/environment
    image: tacokit/component-server:${COMPONENT_SERVER_IMAGE:-1.1.2_20181108161652}
    command: --http=1234
    environment:
    - CONSOLE_LOG_LEVEL=INFO
    - _JAVA_OPTIONS=
        -Xmx1024m
        -Dtalend.component.server.component.registry=/opt/talend/connectors/component-registry.properties
        -Dtalend.component.server.maven.repository=/opt/talend/connectors
    ports:
    - 1234:1234/tcp
    volumes:
    - type: bind
      read_only: true
      source: ${CONNECTORS_REPOSITORY}
      target: /opt/talend/connectors
      volume:
        nocopy: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to mount it from another image, you can use this compose configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">version: '3.2'

services:
  component-server:
    healthcheck:
      timeout: 3s
      interval: 3s
      retries: 3
      test: curl --fail http://localhost:1234/api/v1/environment
    image: tacokit/component-server:${COMPONENT_SERVER_IMAGE_VERSION}
    command: --http=1234
    environment:
    - _JAVA_OPTIONS=
        -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005
        -Djava.library.path=/opt/talend/component-kit/work/sigar/sigar:/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/server:/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64:/usr/lib/jvm/java-1.8-openjdk/jre/../lib/amd64:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib
        -Xmx1024m
        -Dtalend.component.server.component.registry=/opt/talend/connectors/component-registry.properties
        -Dtalend.component.server.maven.repository=/opt/talend/connectors
    ports:
    - 1234:1234/tcp
    - 5005:5005/tcp
    volumes:
    - connectors:/opt/talend/connectors:ro

  connectors:
    image: talend/connectors:${CONNECTORS_VERSION}
    environment:
    - CONNECTORS_SETUP_OPTS=setup --wait-for-end --component-jdbc-auto-download-drivers
    volumes:
    - connectors:/opt/talend/connectors:ro


volumes:
  connectors:</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run one of the previous compose examples, you can use <code>docker-compose -f docker-compose.yml up</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Only use the configuration related to port <code>5005</code> (in<code>ports</code> and the <code>-agentlib</code> option in <code>_JAVA_OPTIONS</code>) to debug the server on port <code>5005</code>. <strong>Don&#8217;t</strong> set it in <strong>production</strong>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_extensions_to_the_server"><a class="anchor" href="#_adding_extensions_to_the_server"></a>Adding extensions to the server</h3>
<div class="paragraph">
<p>You can mount a volume in <code>/opt/talend/component-kit/custom/</code> and the jars in that folder which will be deployed with the server.
Since the server relies on CDI (Apache OpenWebBeans) you can use that technology to enrich it, including JAX-RS endpoints, interceptors etc&#8230;&#8203;or just libraries needing to be in the JVM.</p>
</div>
</div>
</div>
</div>
            </div>
          </div>
          <div class="col-sm-3 container article-side-panel">
            <nav class="article-anchors">
              <div class="article-side-actions">

                <ul>
                    <li>
                      <a class="article-side-actions-link" target="_blank" href="https://github.com/Talend/component-runtime/blob/component-runtime-1.28.0/documentation/src/main/antora/modules/ROOT/pages/documentation-rest.adoc">
                        <i class="fa fa-edit"></i> &nbsp; &nbsp; Suggest an edit
                      </a>
                    </li>

                    <li>
                                <a class="article-side-actions-link" target="_blank"
                                   href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Ftalend.github.io%2Fcomponent-runtime%2Fmain%2F1.43.0%2Fdocumentation-rest.html&text=Talend%20Component%20Kit%20%3E%3E%20Component%20server%20and%20HTTP%20API%20%3E%3E%20&tw_p=tweetbutton&url=https%3A%2F%2Ftalend.github.io%2Fcomponent-runtime%2Fmain%2F1.43.0%2Fdocumentation-rest.html">
                                    <i class="fab fa-twitter"></i> &nbsp; &nbsp; Tweet
                                </a>
                            </li>
                            <li>
                                <a class="article-side-actions-link"
                                   href="mailto:?subject=Talend%20Component%20Kit%3A%20Component%20server%20and%20HTTP%20API&body=Talend%20Component%20Kit%3A%20Component%20server%20and%20HTTP%20API%0A%0Ahttps%3A%2F%2Ftalend.github.io%2Fcomponent-runtime%2Fmain%2F1.43.0%2Fdocumentation-rest.html">
                                    <i class="far fa-envelope"></i> &nbsp; &nbsp; Mail
                                </a>
                            </li>

                </ul>
              </div>
              <h1 class="article-side-toc">In this article</h1>
            </nav>
          </div>
          <a href="#top" class="top">Scroll to top</a>
        </div>
        <script>(window.talend = (window.talend || {})).article = true;</script>
    </article>
              </div>
            </main>
              <footer class="footer ">
    <div class="footer-with-copyright footer-with-links">
        <ul class="footer-links pull-left">
            <li><a class="gwt-Anchor" href="http://www.talend.com/">Talend</a></li>
            <li><a class="gwt-Anchor" href="http://www.talend.com/contact">Contact</a></li>
            <li><a class="gwt-Anchor" href="http://www.talend.com/legal-terms/us-eula">Talend EULA</a></li>
        </ul>
        <div class="footer-copyright pull-right" style="">&copy; 2019 Talend Inc. All rights reserved.</div>
    </div>
</footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
<script src="../../_/../js/anchorific.js"></script>
<script src="../../_/js/talend.js"></script>
  </body>
</html>
